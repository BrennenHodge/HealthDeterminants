$(document).ready(function(){$(".carousel").carousel(),$.getJSON("health-determinants.json",function(e){var t=$("#matrixTemplate").html(),n=Mustache.render(t,e);$("#mobile-matrix .carousel-inner").html(n),$("#mobile-matrix .item:first-child").addClass("active")}),$("#core-health-matrix table tr:nth-child(n+21)").hide(),$("#view-more-link").click(function(e){$("#core-health-matrix table tr:nth-child(n+21)").toggle("slow",function(){$("#view-more-link .glyphicon").toggleClass("glyphicon-menu-down glyphicon-menu-up"),$("#view-more-link .glyphicon").hasClass("glyphicon-menu-up")?$("#view-more-content").html('view top <span id="rest-row-number">20</span> rows </span>'):$("#view-more-content").html("view all metrics</span>")})});var e=function(e){return function t(n,i){var a,r;a=[],substrRegex=new RegExp(n,"i"),$.each(e,function(e,t){substrRegex.test(t)&&a.push(t)}),i(a)}},t;$.ajax({url:"core.csv",async:!1,success:function(n){t=n.split("\n");for(var i=0;i<t.length;i++)t[i].replace(/"/g," "),'"'==t[i].charAt(0)&&(t[i]=t[i].substring(1,t[i].length-1)),'"'==t[i].charAt(t[i].length-1)&&(t[i]=t[i].substring(0,t[i].length-1));$("#core-health-matrix .input-group .typeahead").typeahead({hint:!0,highlight:!0},{name:"corelabels",source:e(t),limit:10,templates:{empty:['<div class="empty-message">unable to find any record that match the current query</div>']}})}})});