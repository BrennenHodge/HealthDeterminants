$(document).ready(function(){drawTreemap(),drawNodeGraph(),$(window).width()<769?($("#chart").hide(),$("#node").hide(),$("#graph p:nth-child(3)").hide()):($("#chart").show(),$("#node").hide(),$("#graph p:nth-child(3)").show()),$(window).resize(function(){$(window).width()<769?($("#chart").hide(),$("#node").hide(),$("#graph p:nth-child(3)").hide()):($("#chart").show(),$("#node").hide(),$("#graph p:nth-child(3)").show())}),$("#graph a").click(function(e){$("#graph a.select").removeClass("select"),$(this).addClass("select")}),$("#drawTreemap").click(function(e){$("#chart").show(),$("#node").hide()}),$("#drawNodeGraph").click(function(e){$("#chart").hide(),$("#node").show()}),$(".carousel").carousel(),$.getJSON("data/health-determinants.json",function(e){var t=$("#matrixTemplate").html(),h=Mustache.render(t,e);$("#mobile-matrix .carousel-inner").html(h),$("#mobile-matrix .item:first-child").addClass("active")}),$("#core-health-matrix table tr:nth-child(n+21)").hide(),$("#view-more-link").click(function(e){$("#core-health-matrix table tr:nth-child(n+21)").toggle(),$("#view-more-link .glyphicon").toggleClass("glyphicon-menu-down glyphicon-menu-up"),$("#view-more-link .glyphicon").hasClass("glyphicon-menu-up")?$("#view-more-content").text("View less metrics "):$("#view-more-content").text("View all metrics ")}),$("#core-health-matrix input").on("input",function(){if($("#view-more-link").hide(),$("#core-health-matrix .input-group .glyphicon").show(),""!=$(this).val().trim()){for(var e=0,t=1;t<$("#core-health-matrix table tr").length;t++)-1!=$("#core-health-matrix table tr:nth-child("+(t+1)+") td:first-child").text().toLowerCase().indexOf($(this).val().toLowerCase())?$("#core-health-matrix table tr:nth-child("+(t+1)+")").show():($("#core-health-matrix table tr:nth-child("+(t+1)+")").hide(),e++);e==$("#core-health-matrix table tr").length-1?$("#core-health-matrix #no-data-text").show():$("#core-health-matrix #no-data-text").hide()}}),$("#core-health-matrix input").keyup(function(){this.value||($("#core-health-matrix table tr").show(),$("#core-health-matrix #no-data-text").hide(),$("#view-more-link .glyphicon").hasClass("glyphicon-menu-up")?$("#view-more-link").show():($("#core-health-matrix table tr:nth-child(n+21)").hide(),$("#view-more-link").show()),$("#core-health-matrix .input-group .glyphicon").hide())}),$("#core-health-matrix .input-group .glyphicon").click(function(e){$("#core-health-matrix input").val(""),$("#core-health-matrix table tr").show(),$("#core-health-matrix #no-data-text").hide(),$("#view-more-link .glyphicon").hasClass("glyphicon-menu-up")?$("#view-more-link").show():($("#core-health-matrix table tr:nth-child(n+21)").hide(),$("#view-more-link").show()),$("#core-health-matrix .input-group .glyphicon").hide()})});